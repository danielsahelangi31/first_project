@layout('layout/index')
@section('content')
<div class="content flex-row-fluid" id="kt_content">
  <div class="row">
    <div class="col-lg-12">
    </div>
  </div>
  <div class="card mt-5 mb-xl-10 bg-white">
    <div id="kt_account_settings_signin_method" class="collapse show">
      <div class="card-body border-top p-9">
        <div class="d-flex flex-lg-column ">
          <div class="d-flex align-items-center ">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="19" cy="19" r="19" fill="#045299"/>
                <path d="M16.1875 24.625V26.875M12.8125 11.125H19.5625C19.8609 11.125 20.147 11.2435 20.358 11.4545C20.569 11.6655 20.6875 11.9516 20.6875 12.25V26.7344C20.6875 26.7717 20.6727 26.8074 20.6463 26.8338C20.6199 26.8602 20.5842 26.875 20.5469 26.875H11.6875V12.25C11.6875 11.9516 11.806 11.6655 12.017 11.4545C12.228 11.2435 12.5141 11.125 12.8125 11.125V11.125ZM21.25 16.75H25.1875C25.4859 16.75 25.772 16.8685 25.983 17.0795C26.194 17.2905 26.3125 17.5766 26.3125 17.875V26.875H20.6875V17.3125C20.6875 17.1633 20.7468 17.0202 20.8523 16.9148C20.9577 16.8093 21.1008 16.75 21.25 16.75Z" stroke="white" stroke-width="1.125" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M13.4479 25.1828C13.3314 25.198 13.2131 25.1764 13.1095 25.1209C13.0059 25.0655 12.9223 24.979 12.8704 24.8736C12.8185 24.7682 12.8009 24.6492 12.82 24.5333C12.8392 24.4173 12.8942 24.3103 12.9773 24.2273C13.0603 24.1442 13.1673 24.0892 13.2833 24.07C13.3992 24.0509 13.5182 24.0685 13.6236 24.1204C13.729 24.1723 13.8155 24.2559 13.8709 24.3595C13.9264 24.4631 13.948 24.5814 13.9328 24.6979C13.9167 24.8209 13.8604 24.9351 13.7727 25.0227C13.6851 25.1104 13.5709 25.1667 13.4479 25.1828ZM13.4479 22.3703C13.3314 22.3855 13.2131 22.3639 13.1095 22.3084C13.0059 22.253 12.9223 22.1665 12.8704 22.0611C12.8185 21.9557 12.8009 21.8367 12.82 21.7208C12.8392 21.6048 12.8942 21.4978 12.9773 21.4148C13.0603 21.3317 13.1673 21.2767 13.2833 21.2575C13.3992 21.2384 13.5182 21.256 13.6236 21.3079C13.729 21.3598 13.8155 21.4434 13.8709 21.547C13.9264 21.6506 13.948 21.7689 13.9328 21.8854C13.9167 22.0084 13.8604 22.1226 13.7727 22.2102C13.6851 22.2979 13.5709 22.3542 13.4479 22.3703ZM13.4479 19.5578C13.3314 19.573 13.2131 19.5514 13.1095 19.4959C13.0059 19.4405 12.9223 19.354 12.8704 19.2486C12.8185 19.1432 12.8009 19.0242 12.82 18.9083C12.8392 18.7923 12.8942 18.6853 12.9773 18.6023C13.0603 18.5192 13.1673 18.4642 13.2833 18.445C13.3992 18.4259 13.5182 18.4435 13.6236 18.4954C13.729 18.5473 13.8155 18.6309 13.8709 18.7345C13.9264 18.8381 13.948 18.9564 13.9328 19.0729C13.9167 19.1959 13.8604 19.3101 13.7727 19.3977C13.6851 19.4854 13.5709 19.5417 13.4479 19.5578ZM13.4479 16.7453C13.3314 16.7605 13.2131 16.7389 13.1095 16.6834C13.0059 16.628 12.9223 16.5415 12.8704 16.4361C12.8185 16.3307 12.8009 16.2117 12.82 16.0958C12.8392 15.9798 12.8942 15.8728 12.9773 15.7898C13.0603 15.7067 13.1673 15.6517 13.2833 15.6325C13.3992 15.6134 13.5182 15.631 13.6236 15.6829C13.729 15.7348 13.8155 15.8184 13.8709 15.922C13.9264 16.0256 13.948 16.1439 13.9328 16.2604C13.9167 16.3834 13.8604 16.4976 13.7727 16.5852C13.6851 16.6729 13.5709 16.7292 13.4479 16.7453ZM13.4479 13.9328C13.3314 13.948 13.2131 13.9264 13.1095 13.8709C13.0059 13.8155 12.9223 13.729 12.8704 13.6236C12.8185 13.5182 12.8009 13.3992 12.82 13.2833C12.8392 13.1673 12.8942 13.0603 12.9773 12.9773C13.0603 12.8942 13.1673 12.8392 13.2833 12.82C13.3992 12.8009 13.5182 12.8185 13.6236 12.8704C13.729 12.9223 13.8155 13.0059 13.8709 13.1095C13.9264 13.2131 13.948 13.3314 13.9328 13.4479C13.9167 13.5709 13.8604 13.6851 13.7727 13.7727C13.6851 13.8604 13.5709 13.9167 13.4479 13.9328ZM16.2604 22.3703C16.1439 22.3855 16.0256 22.3639 15.922 22.3084C15.8184 22.253 15.7348 22.1665 15.6829 22.0611C15.631 21.9557 15.6134 21.8367 15.6325 21.7208C15.6517 21.6048 15.7067 21.4978 15.7898 21.4148C15.8728 21.3317 15.9798 21.2767 16.0958 21.2575C16.2117 21.2384 16.3307 21.256 16.4361 21.3079C16.5415 21.3598 16.628 21.4434 16.6834 21.547C16.7389 21.6506 16.7605 21.7689 16.7453 21.8854C16.7292 22.0084 16.6729 22.1226 16.5852 22.2102C16.4976 22.2979 16.3834 22.3542 16.2604 22.3703ZM16.2604 19.5578C16.1439 19.573 16.0256 19.5514 15.922 19.4959C15.8184 19.4405 15.7348 19.354 15.6829 19.2486C15.631 19.1432 15.6134 19.0242 15.6325 18.9083C15.6517 18.7923 15.7067 18.6853 15.7898 18.6023C15.8728 18.5192 15.9798 18.4642 16.0958 18.445C16.2117 18.4259 16.3307 18.4435 16.4361 18.4954C16.5415 18.5473 16.628 18.6309 16.6834 18.7345C16.7389 18.8381 16.7605 18.9564 16.7453 19.0729C16.7292 19.1959 16.6729 19.3101 16.5852 19.3977C16.4976 19.4854 16.3834 19.5417 16.2604 19.5578ZM16.2604 16.7453C16.1439 16.7605 16.0256 16.7389 15.922 16.6834C15.8184 16.628 15.7348 16.5415 15.6829 16.4361C15.631 16.3307 15.6134 16.2117 15.6325 16.0958C15.6517 15.9798 15.7067 15.8728 15.7898 15.7898C15.8728 15.7067 15.9798 15.6517 16.0958 15.6325C16.2117 15.6134 16.3307 15.631 16.4361 15.6829C16.5415 15.7348 16.628 15.8184 16.6834 15.922C16.7389 16.0256 16.7605 16.1439 16.7453 16.2604C16.7292 16.3834 16.6729 16.4976 16.5852 16.5852C16.4976 16.6729 16.3834 16.7292 16.2604 16.7453ZM16.2604 13.9328C16.1439 13.948 16.0256 13.9264 15.922 13.8709C15.8184 13.8155 15.7348 13.729 15.6829 13.6236C15.631 13.5182 15.6134 13.3992 15.6325 13.2833C15.6517 13.1673 15.7067 13.0603 15.7898 12.9773C15.8728 12.8942 15.9798 12.8392 16.0958 12.82C16.2117 12.8009 16.3307 12.8185 16.4361 12.8704C16.5415 12.9223 16.628 13.0059 16.6834 13.1095C16.7389 13.2131 16.7605 13.3314 16.7453 13.4479C16.7292 13.5709 16.6729 13.6851 16.5852 13.7727C16.4976 13.8604 16.3834 13.9167 16.2604 13.9328ZM19.0729 25.1828C18.9564 25.198 18.8381 25.1764 18.7345 25.1209C18.6309 25.0655 18.5473 24.979 18.4954 24.8736C18.4435 24.7682 18.4259 24.6492 18.445 24.5333C18.4642 24.4173 18.5192 24.3103 18.6023 24.2273C18.6853 24.1442 18.7923 24.0892 18.9083 24.07C19.0242 24.0509 19.1432 24.0685 19.2486 24.1204C19.354 24.1723 19.4405 24.2559 19.4959 24.3595C19.5514 24.4631 19.573 24.5814 19.5578 24.6979C19.5417 24.8209 19.4854 24.9351 19.3977 25.0227C19.3101 25.1104 19.1959 25.1667 19.0729 25.1828ZM19.0729 22.3703C18.9564 22.3855 18.8381 22.3639 18.7345 22.3084C18.6309 22.253 18.5473 22.1665 18.4954 22.0611C18.4435 21.9557 18.4259 21.8367 18.445 21.7208C18.4642 21.6048 18.5192 21.4978 18.6023 21.4148C18.6853 21.3317 18.7923 21.2767 18.9083 21.2575C19.0242 21.2384 19.1432 21.256 19.2486 21.3079C19.354 21.3598 19.4405 21.4434 19.4959 21.547C19.5514 21.6506 19.573 21.7689 19.5578 21.8854C19.5417 22.0084 19.4854 22.1226 19.3977 22.2102C19.3101 22.2979 19.1959 22.3542 19.0729 22.3703ZM19.0729 19.5578C18.9564 19.573 18.8381 19.5514 18.7345 19.4959C18.6309 19.4405 18.5473 19.354 18.4954 19.2486C18.4435 19.1432 18.4259 19.0242 18.445 18.9083C18.4642 18.7923 18.5192 18.6853 18.6023 18.6023C18.6853 18.5192 18.7923 18.4642 18.9083 18.445C19.0242 18.4259 19.1432 18.4435 19.2486 18.4954C19.354 18.5473 19.4405 18.6309 19.4959 18.7345C19.5514 18.8381 19.573 18.9564 19.5578 19.0729C19.5417 19.1959 19.4854 19.3101 19.3977 19.3977C19.3101 19.4854 19.1959 19.5417 19.0729 19.5578Z" fill="white"/>
                <path d="M19.3983 16.5841C19.6173 16.3651 19.6164 16.0092 19.3963 15.7891C19.1763 15.569 18.8203 15.5681 18.6013 15.7871C18.3824 16.0061 18.3832 16.362 18.6033 16.5821C18.8234 16.8022 19.1793 16.8031 19.3983 16.5841Z" fill="white"/>
                <path d="M19.0729 13.9328C18.9564 13.948 18.8381 13.9264 18.7345 13.8709C18.6309 13.8155 18.5473 13.729 18.4954 13.6236C18.4435 13.5182 18.4259 13.3992 18.445 13.2833C18.4642 13.1673 18.5192 13.0603 18.6023 12.9773C18.6853 12.8942 18.7923 12.8392 18.9083 12.82C19.0242 12.8009 19.1432 12.8185 19.2486 12.8704C19.354 12.9223 19.4405 13.0059 19.4959 13.1095C19.5514 13.2131 19.573 13.3314 19.5578 13.4479C19.5417 13.5709 19.4854 13.6851 19.3977 13.7727C19.3101 13.8604 19.1959 13.9167 19.0729 13.9328ZM24.0623 24.0623C23.9511 24.0623 23.8423 24.0953 23.7498 24.1571C23.6573 24.2189 23.5852 24.3068 23.5426 24.4096C23.5001 24.5123 23.4889 24.6254 23.5106 24.7346C23.5323 24.8437 23.5859 24.9439 23.6646 25.0226C23.7432 25.1012 23.8435 25.1548 23.9526 25.1765C24.0617 25.1982 24.1748 25.1871 24.2776 25.1445C24.3804 25.1019 24.4682 25.0298 24.53 24.9373C24.5918 24.8448 24.6248 24.7361 24.6248 24.6248C24.6248 24.4756 24.5656 24.3326 24.4601 24.2271C24.3546 24.1216 24.2115 24.0623 24.0623 24.0623ZM24.0623 21.2498C23.9511 21.2498 23.8423 21.2828 23.7498 21.3446C23.6573 21.4064 23.5852 21.4943 23.5426 21.5971C23.5001 21.6998 23.4889 21.8129 23.5106 21.9221C23.5323 22.0312 23.5859 22.1314 23.6646 22.2101C23.7432 22.2887 23.8435 22.3423 23.9526 22.364C24.0617 22.3857 24.1748 22.3746 24.2776 22.332C24.3804 22.2894 24.4682 22.2173 24.53 22.1248C24.5918 22.0323 24.6248 21.9236 24.6248 21.8123C24.6248 21.6631 24.5656 21.5201 24.4601 21.4146C24.3546 21.3091 24.2115 21.2498 24.0623 21.2498ZM24.0623 18.4373C23.9511 18.4373 23.8423 18.4703 23.7498 18.5321C23.6573 18.5939 23.5852 18.6818 23.5426 18.7846C23.5001 18.8873 23.4889 19.0004 23.5106 19.1096C23.5323 19.2187 23.5859 19.3189 23.6646 19.3976C23.7432 19.4762 23.8435 19.5298 23.9526 19.5515C24.0617 19.5732 24.1748 19.5621 24.2776 19.5195C24.3804 19.4769 24.4682 19.4048 24.53 19.3123C24.5918 19.2198 24.6248 19.1111 24.6248 18.9998C24.6248 18.8506 24.5656 18.7076 24.4601 18.6021C24.3546 18.4966 24.2115 18.4373 24.0623 18.4373ZM21.8123 24.0623C21.7011 24.0623 21.5923 24.0953 21.4998 24.1571C21.4073 24.2189 21.3352 24.3068 21.2926 24.4096C21.2501 24.5123 21.2389 24.6254 21.2606 24.7346C21.2823 24.8437 21.3359 24.9439 21.4146 25.0226C21.4932 25.1012 21.5935 25.1548 21.7026 25.1765C21.8117 25.1982 21.9248 25.1871 22.0276 25.1445C22.1304 25.1019 22.2182 25.0298 22.28 24.9373C22.3418 24.8448 22.3748 24.7361 22.3748 24.6248C22.3748 24.4756 22.3156 24.3326 22.2101 24.2271C22.1046 24.1216 21.9615 24.0623 21.8123 24.0623ZM21.8123 21.2498C21.7011 21.2498 21.5923 21.2828 21.4998 21.3446C21.4073 21.4064 21.3352 21.4943 21.2926 21.5971C21.2501 21.6998 21.2389 21.8129 21.2606 21.9221C21.2823 22.0312 21.3359 22.1314 21.4146 22.2101C21.4932 22.2887 21.5935 22.3423 21.7026 22.364C21.8117 22.3857 21.9248 22.3746 22.0276 22.332C22.1304 22.2894 22.2182 22.2173 22.28 22.1248C22.3418 22.0323 22.3748 21.9236 22.3748 21.8123C22.3748 21.6631 22.3156 21.5201 22.2101 21.4146C22.1046 21.3091 21.9615 21.2498 21.8123 21.2498ZM21.8123 18.4373C21.7011 18.4373 21.5923 18.4703 21.4998 18.5321C21.4073 18.5939 21.3352 18.6818 21.2926 18.7846C21.2501 18.8873 21.2389 19.0004 21.2606 19.1096C21.2823 19.2187 21.3359 19.3189 21.4146 19.3976C21.4932 19.4762 21.5935 19.5298 21.7026 19.5515C21.8117 19.5732 21.9248 19.5621 22.0276 19.5195C22.1304 19.4769 22.2182 19.4048 22.28 19.3123C22.3418 19.2198 22.3748 19.1111 22.3748 18.9998C22.3748 18.8506 22.3156 18.7076 22.2101 18.6021C22.1046 18.4966 21.9615 18.4373 21.8123 18.4373Z" fill="white"/>
            </svg>  
            <h2 class="mx-3">Master Company</h2>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content flex-row-fluid" id="kt_content">
    <div class="card bg-white">
      <div class="card-header" style="border:none">
        <h3 class="card-title text-primary">Add Informasi Company</h3>
      </div>
      <div class="d-flex justify-content-end mt-3" style="float: right;">
        <div class="mx-3">
          <a href="{{route('/template-master-company')}}" class="btn btn-light border border-primary text-primary">
            <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1681_99861)">
              <path d="M9.25 9.1875H11.3281C12.832 9.1875 14.0625 8.60754 14.0625 7.12031C14.0625 5.63309 12.6133 5.11137 11.4375 5.05313C11.1944 2.72727 9.49609 1.3125 7.5 1.3125C5.61328 1.3125 4.39813 2.56457 4 3.80625C2.35938 3.96211 0.9375 4.78734 0.9375 6.49688C0.9375 8.20641 2.41406 9.1875 4.21875 9.1875H5.75M5.75 10.9402L7.5 12.6875L9.25 10.9402M7.5 6.125V12.2508" stroke="#045299" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
              <clipPath id="clip0_1681_99861">
              <rect width="14" height="14" fill="white" transform="translate(0.5)"/>
              </clipPath>
              </defs>
              </svg>
               Download Template
          </a>
        </div>
        <div class="mx-3">
          <button id="buttonId" class="btn btn-primary button-upload">
            <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1681_99193)">
              <path d="M9.25 10.0586H11.3281C12.832 10.0586 14.0625 9.25988 14.0625 7.77266C14.0625 6.28543 12.6133 5.54496 11.4375 5.48672C11.1944 3.16086 9.49609 1.74609 7.5 1.74609C5.61328 1.74609 4.39813 2.99816 4 4.23984C2.35938 4.3957 0.9375 5.43969 0.9375 7.14922C0.9375 8.85875 2.41406 10.0586 4.21875 10.0586H5.75" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.25 6.99609L7.5 5.24609L5.75 6.99609M7.5 12.2576V5.68359" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
              <clipPath id="clip0_1681_99193">
              <rect width="14" height="14" fill="white" transform="translate(0.5)"/>
              </clipPath>
              </defs>
              </svg>
               Upload Excel
              </button>
            </div>
          </div> 
          <form id="formFile" action="{{route('/master-company/review-page')}}" method="post" enctype="multipart/form-data">
            {{ csrfField() }}
            <input id="fileid" name="importExcel" hidden type="file"/>
          </form>
      <form class="form" id="form" method="post" action="{{route('master_company.store')}}" enctype="multipart/form-data">
        {{ csrfField() }}
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6 mb-8">
              <label for="companyCode" class="form-label fw-bold">Company Code<span class="text-danger">*</span></label>
              <input id="companyCode" type="text" onkeypress="return /[0-9]/i.test(event.key)" name="companyCode" maxlength="6" minlength="6" class="form-control" placeholder="Company Code"/>
            </div>
            <div class="col-lg-6 mb-8">
              <label class="form-label fw-bold">SAP Code</label>
              <input onkeypress="return /[0-9]/i.test(event.key)" maxlength="5" type="text" name="sapCode" class="form-control" placeholder="Sap Code" />
            </div>
            <div class="col-lg-6 mb-8">
              <label for="companyName" class="form-label fw-bold">Company Name<span class="text-danger">*</span></label>
              <input id="companyName" type="text" name="companyName" class="form-control " placeholder="Company Name" />
            </div>
            <div class="col-lg-6 mb-8">
              <label for="groupCompany" class="form-label fw-bold">Company Group<span class="text-danger">*</span></label>
              <select id="groupCompany" onchange="parentFind(this.value)" name="groupCompany" data-control="select2" data-placeholder="Select" class="form-control form-select" id="">
                <option value="">Select</option>
                @each(item in data.groupCompany)
                <option value={{item.id}}>{{item.name}}</option>
                @end
              </select>
            </div>
            <div class="col-lg-6 mb-8">
              <label class="form-label fw-bold">Profit Center</label>
              <input type="text" name="profitCenter" class="form-control " placeholder="Kodefikasi Profit Center" />
            </div>
            <div class="col-lg-6 mb-8">
              <label for="parentCompany" class="form-label fw-bold">Parent Company</label>
              <select id="parentOption" name="parentCompany" data-control="select2" data-placeholder="Select" class="form-control form-select" id="">
                <option value="">Select</option>
              </select>
            </div>
            <input type="text" hidden name="status" value="">
            <div class="">
              <div class="row"> 
                <div class="col-lg-6">
                  <a href="{{route('master_company.index')}}" class="btn btn-light border border-primary text-primary">Batal</a>
                </div>
                <div class="col-lg-6 d-flex justify-content-end text-lg-right">
                  <button id="trigger" type="submit" hidden></button>            
                  <button type="button" id="saveDraft" class="btn btn-warning mx-1">Simpan Sebagai Draft</button>
                  <button type="button" id="saving" class="btn btn-primary mx-1">Kirim</button>            
                </div>
              </div>
            </div>
          </form>
    </div>
  </div>
</div>
</div>
</div>
<script>
  document.getElementById('buttonId').addEventListener('click', openDialog);

function openDialog() {
  document.getElementById('fileid').click().document.getElementById('submitFile').click();
}

document.getElementById("fileid").onchange = function() {
    document.getElementById("formFile").submit();
};

$(document).ready($('#form').validate({
  rules: {
    companyCode: 'required',
    companyName: 'required',
    groupCompany:  'required',
  },
  messages: {
    companyCode: 'lengkapi bidang ini',
    companyName: 'lengkapi bidang ini',
    groupCompany: 'lengkapi bidang ini'
  },
  
  submitHandler: function(form) {
    let code = $('#companyCode').val()
    $.ajax({
      type: "GET",
      url: `/check-code-company?code=${code}&action=create`,
      success: function(response) {
        if(response === 'true') {
          Swal.fire({
            title: "<span style='color:#FF0000;'>Gagal</span>", 
            html: `<strong>Company Code Sudah Tersedia</strong>`,
            icon:'error',
            confirmButtonColor: '#045299',
            confirmButtonText: 'Oke',
            allowOutsideClick: false
          }).then(() => {
          })
        } else if(response === 'false') {
          form.submit()
        }
      }
    })
  }
}))

$('#saveDraft').click(function (e) {
            $(`input[name="status"]`).val("draft")
            Swal.fire({
            title: `Simpan sebagai draf`,
            text: `Apakah Anda Yakin`,
            iconHtml: `<svg width="87" height="88" viewBox="0 0 87 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.3127 21.7497H21.5194C22.9038 21.7772 24.2494 21.2908 25.2964 20.3852C26.3432 19.4786 27.0165 18.2165 27.1881 16.8425C27.3379 15.3111 26.8325 13.7872 25.7951 12.6502C24.7587 11.5123 23.289 10.8675 21.7499 10.8751H16.3128C11.986 10.8751 7.83743 12.5933 4.7783 15.6524C1.71843 18.7123 0 22.8609 0 27.1879V70.6888C0 75.0155 1.71821 79.1641 4.7783 82.2233C7.83743 85.2831 11.9858 87.0016 16.3128 87.0016H59.8137C64.1405 87.0016 68.2891 85.2834 71.3492 82.2233C74.4083 79.1641 76.1265 75.0158 76.1265 70.6888V65.482C76.154 64.0976 75.6676 62.752 74.762 61.705C73.8554 60.6582 72.5933 59.9849 71.2193 59.8133C69.6879 59.6635 68.164 60.1689 67.027 61.2063C65.8891 62.2427 65.2443 63.7124 65.2519 65.2515V70.6886C65.2519 72.1309 64.6782 73.5135 63.6588 74.5337C62.6395 75.5531 61.256 76.1258 59.8137 76.1258H16.3128C14.8705 76.1258 13.4879 75.5531 12.4676 74.5337C11.4483 73.5134 10.8755 72.1309 10.8755 70.6886V27.1877C10.8755 25.7454 11.4483 24.3619 12.4676 23.3426C13.4879 22.3232 14.8705 21.7495 16.3128 21.7495L16.3127 21.7497Z" fill="#EDAD51"/>
            <path d="M65.2502 0.000729703C62.3647 -0.00211509 59.5968 1.14241 57.5553 3.18124L27.7164 33.0201C23.8797 36.8378 21.7312 42.0312 21.7481 47.4429V54.3763C21.7481 57.2609 22.8946 60.0268 24.9342 62.0657C26.973 64.1053 29.739 65.2518 32.6236 65.2518H39.557C44.9687 65.2688 50.1623 63.1201 53.9798 59.2835L83.8187 29.4446C85.8574 27.4031 87.0019 24.6353 86.9992 21.7497C86.9992 15.9815 84.7082 10.4494 80.6289 6.37025C76.5495 2.29084 71.0175 0 65.2495 0L65.2502 0.000729703ZM46.2863 51.59C44.5017 53.3746 42.0809 54.3768 39.5575 54.3768H32.6241V47.4434C32.6241 44.92 33.6264 42.4993 35.4109 40.7146L65.2497 10.8757C68.1334 10.8757 70.8993 12.0212 72.9391 14.0608C74.9789 16.1005 76.1242 18.8666 76.1242 21.7502L46.2863 51.59Z" fill="#EDAD51"/>
            </svg>`,
            buttonsStyling: false,
            showCancelButton: true,
            confirmButtonText: "Iya",
            cancelButtonText: 'Tidak',
            reverseButtons: true,
            customClass: {
                icon: 'border-0',
                confirmButton: "btn btn-primary",
                cancelButton: 'btn btn-danger'
            }          
        }).then((result) => {
                if(result.isConfirmed){
                    var companyName = $("#companyName").val();
                    if(companyName) {
                      $('#form').submit()
                    } else {
                      $('#trigger').trigger('click')
                    }
                }
            })
        })

$('#saving').click(function (e) {
          $(`input[name="status"]`).val("active")
          Swal.fire({
            title: `Dikirim`,
            text: `Apakah Anda Yakin`,
            icon: `success`,
            buttonsStyling: false,
            showCancelButton: true,
            confirmButtonText: "Iya",
            cancelButtonText: 'Tidak',
            reverseButtons: true,
            customClass: {
                confirmButton: "btn btn-primary",
                cancelButton: 'btn btn-danger'
            }         
      }).then((result) => {
              if(result.isConfirmed){
                  // $('#form').submit()
                  $('#trigger').trigger('click')
              }
          })
      })

    function parentFind(groupId, selectedId = null) {
    if(groupId == null || groupId == '') return;
    let id = groupId
    $('#parentOption') 
        .find('option')
        .remove()
        .end()
    $.ajax({ 
        url: '/getParent/' + id,
        type: 'GET',
        success: function(response) {
          $('#parentOption')
              .append(`
                    <option value=''></option>
              `)
            response.forEach(element => {
              $('#parentOption')
              .append(`
                    <option value='${element.id}'>${element.company_name} || ${element.company_code}</option>
              `)
            })
        }
    })
  }
</script>
<style>
  .error {
    color: red;
  }
</style>

@end
